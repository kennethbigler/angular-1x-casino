/*global app*/
app.factory('RouletteService', ['$log', function ($log) {
    "use strict";
    var factory = {},
        crap = {},
        check = [],
        bets = [
            {items: [], value: 2},
            {items: [], value: 3},
            {items: [], value: 6},
            {items: [], value: 7},
            {items: [], value: 9},
            {items: [], value: 12},
            {items: [], value: 18},
            {items: [], value: 36}
        ];

    factory.spin = function () {
        var r = Math.floor(Math.random() * 38);
        if (r >= 37) {
            r = "00";
        }
        return r;
    };
    
    factory.placeBet = function (i, bet) {
        crap[i].bet += bet;
        check.push(i);
    };
    
    factory.reset = function () {
        while (check.length > 0) {
            crap[check.pop()].bet = 0;
        }
    };
    
    // Model - [$index: {val: [], payout: int, bet: int}]
    crap = [
        {val: [37], payout: 36, bet: 0},
        {val: [0, 3], payout: 18, bet: 0},
        {val: [3], payout: 36, bet: 0},
        {val: [3, 6], payout: 18, bet: 0},
        {val: [6], payout: 36, bet: 0},
        {val: [6, 9], payout: 18, bet: 0},
        {val: [9], payout: 36, bet: 0},
        {val: [9, 12], payout: 18, bet: 0},
        {val: [12], payout: 36, bet: 0},
        {val: [12, 15], payout: 18, bet: 0},
        {val: [15], payout: 36, bet: 0},
        {val: [15, 18], payout: 18, bet: 0},
        {val: [18], payout: 36, bet: 0},
        {val: [18, 21], payout: 18, bet: 0},
        {val: [21], payout: 36, bet: 0},
        {val: [21, 24], payout: 18, bet: 0},
        {val: [24], payout: 36, bet: 0},
        {val: [24, 27], payout: 18, bet: 0},
        {val: [27], payout: 36, bet: 0},
        {val: [27, 30], payout: 18, bet: 0},
        {val: [30], payout: 36, bet: 0},
        {val: [30, 33], payout: 18, bet: 0},
        {val: [33], payout: 36, bet: 0},
        {val: [33, 36], payout: 18, bet: 0},
        {val: [36], payout: 36, bet: 0},
        {val: [3, 6, 9, 12, 15, 18, 21, 24, 27, 30, 33, 36], payout: 3, bet: 0},
        {val: [37, 2, 3], payout: 12, bet: 0},
        {val: [2, 3], payout: 18, bet: 0},
        {val: [2, 3, 5, 6], payout: 9, bet: 0},
        {val: [5, 6], payout: 18, bet: 0},
        {val: [5, 6, 8, 9], payout: 9, bet: 0},
        {val: [8, 9], payout: 18, bet: 0},
        {val: [8, 9, 11, 12], payout: 9, bet: 0},
        {val: [11, 12], payout: 18, bet: 0},
        {val: [11, 12, 14, 15], payout: 9, bet: 0},
        {val: [14, 15], payout: 18, bet: 0},
        {val: [14, 15, 17, 18], payout: 9, bet: 0},
        {val: [17, 18], payout: 18, bet: 0},
        {val: [17, 18, 20, 21], payout: 9, bet: 0},
        {val: [20, 21], payout: 18, bet: 0},
        {val: [20, 21, 23, 24], payout: 9, bet: 0},
        {val: [23, 24], payout: 18, bet: 0},
        {val: [23, 24, 26, 27], payout: 9, bet: 0},
        {val: [26, 27], payout: 18, bet: 0},
        {val: [26, 27, 29, 30], payout: 9, bet: 0},
        {val: [29, 30], payout: 18, bet: 0},
        {val: [29, 30, 32, 33], payout: 9, bet: 0},
        {val: [32, 33], payout: 18, bet: 0},
        {val: [32, 33, 35, 36], payout: 9, bet: 0},
        {val: [35, 36], payout: 18, bet: 0},
        {val: [2, 3, 5, 6, 8, 9, 11, 12, 14, 15, 17, 18, 20, 21, 23, 24, 26, 27, 29, 30, 32, 33, 35, 36], payout: 2, bet: 0},
        {val: [37, 0], payout: 18, bet: 0},
        {val: [37, 0, 2], payout: 12, bet: 0},
        {val: [2], payout: 36, bet: 0},
        {val: [2, 5], payout: 18, bet: 0},
        {val: [5], payout: 36, bet: 0},
        {val: [5, 8], payout: 18, bet: 0},
        {val: [8], payout: 36, bet: 0},
        {val: [8, 11], payout: 18, bet: 0},
        {val: [11], payout: 36, bet: 0},
        {val: [11, 14], payout: 18, bet: 0},
        {val: [14], payout: 36, bet: 0},
        {val: [14, 17], payout: 18, bet: 0},
        {val: [17], payout: 36, bet: 0},
        {val: [17, 20], payout: 18, bet: 0},
        {val: [20], payout: 36, bet: 0},
        {val: [20, 23], payout: 18, bet: 0},
        {val: [23], payout: 36, bet: 0},
        {val: [23, 26], payout: 18, bet: 0},
        {val: [26], payout: 36, bet: 0},
        {val: [26, 29], payout: 18, bet: 0},
        {val: [29], payout: 36, bet: 0},
        {val: [29, 32], payout: 18, bet: 0},
        {val: [32], payout: 36, bet: 0},
        {val: [32, 35], payout: 18, bet: 0},
        {val: [35], payout: 36, bet: 0},
        {val: [2, 5, 8, 11, 14, 17, 20, 23, 26, 29, 32, 35], payout: 3, bet: 0},
        {val: [0], payout: 36, bet: 0},
        {val: [0, 1, 2], payout: 12, bet: 0},
        {val: [1, 2], payout: 18, bet: 0},
        {val: [1, 2, 4, 5], payout: 9, bet: 0},
        {val: [4, 5], payout: 18, bet: 0},
        {val: [4, 5, 7, 8], payout: 9, bet: 0},
        {val: [7, 8], payout: 18, bet: 0},
        {val: [7, 8, 10, 11], payout: 9, bet: 0},
        {val: [10, 11], payout: 18, bet: 0},
        {val: [10, 11, 13, 14], payout: 9, bet: 0},
        {val: [13, 14], payout: 18, bet: 0},
        {val: [13, 14, 16, 17], payout: 9, bet: 0},
        {val: [16, 17], payout: 18, bet: 0},
        {val: [16, 17, 19, 20], payout: 9, bet: 0},
        {val: [19, 20], payout: 18, bet: 0},
        {val: [19, 20, 22, 23], payout: 9, bet: 0},
        {val: [22, 23], payout: 18, bet: 0},
        {val: [22, 23, 25, 26], payout: 9, bet: 0},
        {val: [25, 26], payout: 18, bet: 0},
        {val: [25, 26, 28, 29], payout: 9, bet: 0},
        {val: [28, 29], payout: 18, bet: 0},
        {val: [28, 29, 31, 32], payout: 9, bet: 0},
        {val: [31, 32], payout: 18, bet: 0},
        {val: [31, 32, 34, 35], payout: 9, bet: 0},
        {val: [34, 35], payout: 18, bet: 0},
        {val: [1, 2, 4, 5, 7, 8, 10, 11, 13, 14, 16, 17, 19, 20, 22, 23, 25, 26, 28, 29, 31, 32, 34, 35], payout: 2, bet: 0},
        {val: [0, 1], payout: 18, bet: 0},
        {val: [1], payout: 36, bet: 0},
        {val: [1, 4], payout: 18, bet: 0},
        {val: [4], payout: 36, bet: 0},
        {val: [4, 7], payout: 18, bet: 0},
        {val: [7], payout: 36, bet: 0},
        {val: [7, 10], payout: 18, bet: 0},
        {val: [10], payout: 36, bet: 0},
        {val: [10, 13], payout: 18, bet: 0},
        {val: [13], payout: 36, bet: 0},
        {val: [13, 16], payout: 18, bet: 0},
        {val: [16], payout: 36, bet: 0},
        {val: [16, 19], payout: 18, bet: 0},
        {val: [19], payout: 36, bet: 0},
        {val: [19, 22], payout: 18, bet: 0},
        {val: [22], payout: 36, bet: 0},
        {val: [22, 25], payout: 18, bet: 0},
        {val: [25], payout: 36, bet: 0},
        {val: [25, 28], payout: 18, bet: 0},
        {val: [28], payout: 36, bet: 0},
        {val: [28, 31], payout: 18, bet: 0},
        {val: [31], payout: 36, bet: 0},
        {val: [31, 34], payout: 18, bet: 0},
        {val: [34], payout: 36, bet: 0},
        {val: [1, 4, 7, 10, 13, 16, 19, 22, 25, 28, 31, 34], payout: 3, bet: 0},
        {val: [0, 37, 1, 2, 3], payout: 7, bet: 0},
        {val: [1, 2, 3], payout: 12, bet: 0},
        {val: [1, 2, 3, 4, 5, 6], payout: 6, bet: 0},
        {val: [4, 5, 6], payout: 12, bet: 0},
        {val: [4, 5, 6, 7, 8, 9], payout: 6, bet: 0},
        {val: [7, 8, 9], payout: 12, bet: 0},
        {val: [7, 8, 9, 10, 11, 12], payout: 6, bet: 0},
        {val: [10, 11, 12], payout: 12, bet: 0},
        {val: [10, 11, 12, 13, 14, 15], payout: 6, bet: 0},
        {val: [13, 14, 15], payout: 12, bet: 0},
        {val: [13, 14, 15, 16, 17, 18], payout: 6, bet: 0},
        {val: [16, 17, 18], payout: 12, bet: 0},
        {val: [16, 17, 18, 19, 20, 21], payout: 6, bet: 0},
        {val: [19, 20, 21], payout: 12, bet: 0},
        {val: [19, 20, 21, 22, 23, 24], payout: 6, bet: 0},
        {val: [22, 23, 24], payout: 12, bet: 0},
        {val: [22, 23, 24, 25, 26, 27], payout: 6, bet: 0},
        {val: [25, 26, 27], payout: 12, bet: 0},
        {val: [25, 26, 27, 28, 29, 30], payout: 6, bet: 0},
        {val: [28, 29, 30], payout: 12, bet: 0},
        {val: [28, 29, 30, 31, 32, 33], payout: 6, bet: 0},
        {val: [31, 32, 33], payout: 12, bet: 0},
        {val: [31, 32, 33, 34, 35, 36], payout: 6, bet: 0},
        {val: [34, 35, 36], payout: 12, bet: 0},
        {val: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12], payout: 3, bet: 0},
        {val: [13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24], payout: 3, bet: 0},
        {val: [25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], payout: 3, bet: 0},
        {val: [1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18], payout: 2, bet: 0},
        {val: [2, 4, 6, 8, 10, 12, 14, 16, 18, 20, 22, 24, 26, 28, 30, 32, 34, 36], payout: 2, bet: 0},
        {val: [1, 3, 5, 7, 9, 12, 14, 16, 18, 21, 23, 25, 27, 28, 30, 32, 34, 36], payout: 2, bet: 0},
        {val: [2, 4, 6, 8, 10, 11, 13, 15, 17, 19, 20, 22, 24, 26, 29, 31, 33, 35], payout: 2, bet: 0},
        {val: [1, 3, 5, 7, 9, 11, 13, 15, 17, 19, 21, 23, 25, 27, 29, 31, 33, 35], payout: 2, bet: 0},
        {val: [19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32, 33, 34, 35, 36], payout: 2, bet: 0}
    ];
    factory.crap = crap;
    
    return factory;
}]);